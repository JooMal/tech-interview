# TCP와 UDP

## TCP(Transmission Control Protocol)
TCP는 컴퓨터가 다른 컴퓨터와 데이터 통신을 하기 위한 규약의 일종이다.
일반적으로 TCP와 IP를 함께 사용하기 때문에 TCP/IP로 묶여 부르는데, IP가 데이터의 배달을 처리한다면 TCP는 패킷을 추적 및 관리한다.

### 회선 교환
원래는 경로가 유일하게 정해지는 회선교환(Circuit Switching) 방식이었는데, 경로에 오류가 발생하면 통신이 끊어진다.

### 패킷 교환
이를 보완하고자 고안된 것이 패킷 교환(Packet Switching) 방식인데, 경로가 정해져 있지 않다. 즉 연결 가능한 회선이 하나만 남아있어도 통신이 끊어지지 않는다.
통신을 유지하는 것이 목적이므로 네트워크 환경의 안정성은 떨어진다. 이로 인해 데이터가 유실되거나, 늦게 전달되는 등 신뢰성이 떨어지는 문제점이 있었다. 신뢰성을 보완하기 위해 나온 것이 TCP이다.

### Three Way Handshake
TCP는 전화를 거는 것처럼, 상대와 연결을 설정하고 통신을 시작한다. 
1. SYN : 상대에게 통신을 하고 싶다는 메세지를 보낸다.
2. SYN-ACK : 상대는 그 메세지에 대한 응답과, 통신 준비가 되었다는 메세지를 보낸다.
3. ACK(Acknowledge) : 2번에서 받은 메세지에 응답을 보낸다.
이 과정을 통해, 현재 **통신이 연결되었음을 보장**한다.

### 신뢰성 보장과 흐름 제어(Flow Control)
네트워크를 통해서 한 번에 보낼 수 있는 데이터의 양은 제한되어 있다. 이에 따라 데이터를 일정 패킷 단위로 분할하여 보내게 된다. 분할된 데이터에는 고유번호가 부여되어, 이를 통해 오류가 발생하여 수신에 실패한 누락된 데이터를 찾을 수 있다. (= 패킷 추적 및 관리)

### 혼잡 제어(Congestion Control)
혼잡이란 한정된 네트워크 대역폭에 다수의 사람들이 몰리는 것을 의미한다. 이는 회선이 그 부하를 감당하지 못하고 중지되는 결과를 낳을 수 있다.
어떻게 제어하는가? 일정 양의 패킷만을 보내본 후, 잘 수신한 것을 확인하면 점점 송신하는 패킷 양을 늘리는 방법인 AIMD(Addictive Increase/Multicative Decrease)를 채택하고 있다.


## UDP(User Datagram Protocol)
데이터를 데이터그램 단위로 처리하는 프로토콜이다. 데이터그램이란 독립적인 관계를 지니는 패킷이다. TCP와는 달리 비연결형 프로토콜로, 연결을 위해 할당되는 논리적인 경로가 없는 까닭에 패킷이 각기 다른 경로로 전송될 수 있고, 각각의 패킷이 독립적인 관계를 지닌다. 
UDP 헤더의 CheckSum 필드를 통해 최소한의 오류만 검출하고, 패킷 추적과 관리를 해주는 TCP와 달리 데이터가 멀쩡하게 도착한다는 보장을 해주지 않아 신뢰성이 낮다. 대신, TCP보다 속도가 빨라 **신뢰성보다 연속성이 중요한 서비스**에 주로 사용된다. (ex. 스트리밍)

